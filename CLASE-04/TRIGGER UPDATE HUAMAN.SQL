-- CREANDO TABLA PARA REGISTROS
CREATE TABLE SCOTT.SAL_HISTORY
(
    EMPNO NUMBER(4) NOT NULL,
    SALOLD NUMBER(7,2) NULL,
    SALNEW NUMBER(7,2) NULL,
    STARDATE DATE NOT NULL,
    SETUSER VARCHAR2(30) NOT NULL
);

-- APLICANDO TRIGGER
CREATE OR REPLACE TRIGGER SCOTT.TR_UPDATEEMPSAL
AFTER INSERT OR UPDATE ON EMP
FOR EACH ROW
BEGIN
 INSERT INTO SAL_HISTORY(EMPNO,SALOLD,SALNEW,STARDATE,SETUSER)
 VALUES(:NEW.EMPNO,:OLD.SAL,:NEW.SAL,SYSDATE,USER);
END TR_UPDATEEMPSAL;


